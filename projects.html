<!DOCTYPE html><!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Tue Jan 14 2025 14:37:21 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="67664df7f6ff5b3bc2c70c3c" data-wf-site="66e84be48d3cb4d76ee3f042">
<head>
  <meta charset="utf-8">
  <title>Projects</title>
  <meta content="NTU - CompHydroMet Lab" name="description">
  <meta content="Projects" property="og:title">
  <meta content="Projects" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/wangsite-ntu.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["PT Sans:400,400italic,700,700italic", "Oswald:200,300,400,500,600,700", "Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic", "Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic", "Exo:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic", "Ubuntu:300,300italic,400,400italic,500,500italic,700,700italic", "Source Sans Pro:200,300,regular,italic,600,700,900"]
        }
      });
    </script>
  <script type="text/javascript">
      ! function(o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
      }(window, document);
    </script>
  <!-- <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon"> -->
  <link href="images/favicon3.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <style>
    .abstract-preview {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
      margin-bottom: 10px;
    }
    
    .read-more-btn {
      color: #007bff;
      cursor: pointer;
      text-decoration: underline;
      display: inline-block;
      margin-top: 5px;
    }
    
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      overflow-y: auto;
    }
    
    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 40px;
      border: 1px solid #ddd;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      border-radius: 8px;
      position: relative;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      overflow-y: auto;
    }
    
    .close-modal {
      position: absolute;
      right: 25px;
      top: 15px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      color: #666;
      transition: color 0.2s;
    }

    .close-modal:hover {
      color: #333;
    }
    
    .modal-title {
      margin-top: 0;
      margin-bottom: 25px;
      padding-right: 40px;
      font-size: 24px;
      color: #333;
      font-weight: 600;
    }

    .modal-abstract {
      font-size: 16px;
      line-height: 1.8;
      color: #444;
      max-width: 680px;
      margin: 0 auto;
      text-align: justify;
      white-space: pre-line;
    }

    @media (max-width: 768px) {
      .modal-content {
        width: 95%;
        padding: 25px;
        margin: 5% auto;
      }
      
      .modal-abstract {
        font-size: 15px;
        line-height: 1.6;
      }
    }
  </style>
</head>
<body>
  <div data-collapse="medium" data-animation="default" data-duration="400" data-no-scroll="1" data-easing="ease" data-easing2="ease" role="banner" class="navbar w-nav">
    <div class="w-container">
      <a href="index.html" class="logo-block w-nav-brand"></a><img src="images/logo_white1-03.png" alt="" class="logo">
      <nav role="navigation" class="nav-menu w-nav-menu">
        <a href="index.html" class="nav-link light w-nav-link">HOme</a>
        <a href="members.html" class="nav-link light w-nav-link">members</a>
        <a href="publication.html" class="nav-link light w-nav-link">publication</a>
        <a href="projects.html" class="nav-link light w-nav-link">projects</a>
        <a href="knowledge-hub.html" class="nav-link light w-nav-link">knowledge hub</a>
      </nav>
      <div class="transparant-menu-button w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <div class="subpage-header blog-1-copy">
    <div class="container w-container">
      <h2 data-ix="fade-in-on-load" class="subpage-title">Projects</h2>
      <div data-ix="fade-in-on-load-2" class="page-subtitle">Discover our innovative research projects and collaborations</div>
    </div>
  </div>
  <div class="section">
    <div class="container w-container">
      <div class="collection-list-wrapper w-dyn-list">
        <div class="filter-section" style="margin-bottom: 30px;">
          <select id="attribute-filter" class="w-select" style="max-width: 300px; padding: 8px; border-radius: 4px; border: 1px solid #ccc; margin: 1rem auto;">
            <option value="">All Categories</option>
            <!-- Options will be dynamically added here -->
          </select>
        </div>

        <div role="list" class="w-dyn-items" id="projects-list">
          <!-- Dynamic content will be inserted here -->
        </div>
        <div class="w-dyn-empty" style="display: none;">
          <div>No items found.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal for abstract -->
  <div id="abstractModal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h3 class="modal-title"></h3>
      <div class="modal-abstract"></div>
    </div>
  </div>

  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=66e84be48d3cb4d76ee3f042" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script src="js/config.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const csvUrl = './assests/WangSiteProjects.csv';
      const projectsList = document.getElementById('projects-list');
      const emptyState = document.querySelector('.w-dyn-empty');
      const attributeFilter = document.getElementById('attribute-filter');
      let allProjects = []; // Store all projects for filtering
      
      // Function to render projects
      function renderProjects(projects) {
        projectsList.innerHTML = ''; // Clear current list
        
        if (projects.length > 0) {
          projects.forEach(project => {
            if (!project.Title) return; // Skip empty rows
            const projectHtml = `
              <div role="listitem" class="w-dyn-item">
                <div class="project-container">
                  <a href="${project.Link || '#'}" target="_blank" class="project-snapshot w-inline-block w-clearfix" style="display: grid;">
                    <img src="images/logo_white-03.png" loading="lazy" alt="${project.Title}" class="project-image">
                  </a>
                  <div class="project-content" style="grid-column-gap: 5px;">
                    <div class="text-block-2">${project.Time || ''}</div>
                    <a href="${project.Link || '#'}" target="_blank" class="project-title">${project.Title}</a>
                    <div class="team-member-tag">${project.Attribute || ''}</div>
                    <div class="abstract-preview" style="margin-top: 10px;">${project.Abstract || ''}</div>
                    <div class="read-more-btn" data-title="${project.Title}" data-abstract="${project.Abstract || ''}">Read more...</div>
                  </div>
                </div>
              </div>
            `;
            projectsList.insertAdjacentHTML('beforeend', projectHtml);
          });
          emptyState.style.display = 'none';
        } else {
          emptyState.style.display = 'block';
        }
      }

      // Modal functionality
      const modal = document.getElementById('abstractModal');
      const modalTitle = modal.querySelector('.modal-title');
      const modalAbstract = modal.querySelector('.modal-abstract');
      const closeModal = modal.querySelector('.close-modal');

      // Close modal when clicking the close button
      closeModal.onclick = function() {
        modal.style.display = "none";
      }

      // Close modal when clicking outside
      window.onclick = function(event) {
        if (event.target === modal) {
          modal.style.display = "none";
        }
      }

      // Add click event listener for "Read more" buttons
      projectsList.addEventListener('click', function(e) {
        if (e.target.classList.contains('read-more-btn')) {
          const title = e.target.getAttribute('data-title');
          const abstract = e.target.getAttribute('data-abstract');
          modalTitle.textContent = title;
          modalAbstract.innerHTML = abstract.replace(/\n/g, '<br>');// 將換行轉為 <br>
          modal.style.display = "block";
        }
      });

      // Fetch and parse CSV data
      fetch(csvUrl)
        .then(response => response.text())
        .then(csvText => {
          // Parse CSV function that handles quoted fields
          function parseCSVLine(text) {
            const result = [];
            let cell = '';
            let inQuotes = false;
            
            for (let i = 0; i < text.length; i++) {
              const char = text[i];
              
              if (char === '"') {
                if (inQuotes && text[i + 1] === '"') {
                  cell += '"';
                  i++;
                } else {
                  inQuotes = !inQuotes;
                }
              } else if (char === ',' && !inQuotes) {
                result.push(cell.trim());
                cell = '';
              } else {
                cell += char;
              }
            }
            result.push(cell.trim());
            return result;
          }

          const rows = csvText.split('\n').map(row => parseCSVLine(row));
          const headers = rows[0];
          allProjects = rows.slice(1).map(row => {
            const project = {};
            headers.forEach((header, index) => {
              project[header.trim()] = row[index]?.trim() || '';
            });
            return project;
          });

          // Get unique attributes and populate the filter dropdown
          const attributes = [...new Set(allProjects.map(project => project.Attribute).filter(attr => attr))];
          attributes.sort().forEach(attribute => {
            const option = document.createElement('option');
            option.value = attribute;
            option.textContent = attribute;
            attributeFilter.appendChild(option);
          });

          // Initial render
          renderProjects(allProjects);

          // Add filter event listener
          attributeFilter.addEventListener('change', function() {
            const selectedAttribute = this.value;
            const filteredProjects = selectedAttribute 
              ? allProjects.filter(project => project.Attribute === selectedAttribute)
              : allProjects;
            renderProjects(filteredProjects);
          });
        })
        .catch(error => {
          console.error('Error loading projects:', error);
          emptyState.style.display = 'block';
        });
    });
  </script>
</body>
</html>